import{_ as n}from"./plugin-vue_export-helper-x3n3nnut.js";import{o as s,c as a,f as e}from"./app-VKLC1A-x.js";const p={},t=e(`<h1 id="场景判断" tabindex="-1"><a class="header-anchor" href="#场景判断" aria-hidden="true">#</a> 场景判断</h1><h2 id="case-when" tabindex="-1"><a class="header-anchor" href="#case-when" aria-hidden="true">#</a> CASE WHEN</h2><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- 语法结构</span>
<span class="token keyword">CASE</span> <span class="token keyword">WHEN</span> 条件<span class="token number">1</span> <span class="token keyword">THEN</span> 返回值<span class="token number">1</span>
     <span class="token keyword">WHEN</span> 条件<span class="token number">2</span> <span class="token keyword">THEN</span> 返回值<span class="token number">2</span>
     <span class="token keyword">WHEN</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>   <span class="token keyword">THEN</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
     <span class="token keyword">ELSE</span> 返回值n            <span class="token comment">-- ELSE不写，则其他条件默认返回空(NULL)</span>
     <span class="token keyword">END</span> <span class="token keyword">AS</span> 别名

<span class="token comment">-- 给每个员工一个员工级别,薪资在1000以内是低级,[1000,2000]中级,2000以上是高级</span>
<span class="token keyword">SELECT</span> ENAME<span class="token punctuation">,</span> SAL<span class="token punctuation">,</span>
       <span class="token keyword">CASE</span> <span class="token keyword">WHEN</span> SAL <span class="token operator">&lt;</span> <span class="token number">1000</span> <span class="token keyword">THEN</span> <span class="token string">&#39;低级&#39;</span>
            <span class="token keyword">WHEN</span> SAL <span class="token operator">BETWEEN</span> <span class="token number">1000</span> <span class="token operator">AND</span> <span class="token number">2000</span> <span class="token keyword">THEN</span> <span class="token string">&#39;中级&#39;</span>
            <span class="token keyword">ELSE</span> <span class="token string">&#39;高级&#39;</span>
            <span class="token keyword">END</span> 员工级别
<span class="token keyword">FROM</span> EMP<span class="token punctuation">;</span>

<span class="token comment">-- 查询工资在0-1000以内的人数，1001-2000的人数，2001-3000的人数，3000以上的人数</span>
<span class="token keyword">SELECT</span> <span class="token function">SUM</span><span class="token punctuation">(</span><span class="token keyword">CASE</span> <span class="token keyword">WHEN</span> SAL<span class="token operator">&lt;=</span><span class="token number">1000</span> <span class="token keyword">THEN</span> <span class="token number">1</span> <span class="token keyword">END</span><span class="token punctuation">)</span>              <span class="token string">&quot;0-1000以内的人数&quot;</span><span class="token punctuation">,</span>
       <span class="token function">SUM</span><span class="token punctuation">(</span><span class="token keyword">CASE</span> <span class="token keyword">WHEN</span> SAL<span class="token operator">&gt;</span><span class="token number">1000</span> <span class="token operator">AND</span> SAL<span class="token operator">&lt;=</span><span class="token number">2000</span> <span class="token keyword">THEN</span> <span class="token number">1</span> <span class="token keyword">END</span><span class="token punctuation">)</span> <span class="token string">&quot;1001-2000以内的人数&quot;</span><span class="token punctuation">,</span>
       <span class="token function">SUM</span><span class="token punctuation">(</span><span class="token keyword">CASE</span> <span class="token keyword">WHEN</span> SAL<span class="token operator">&gt;</span><span class="token number">2000</span> <span class="token operator">AND</span> SAL<span class="token operator">&lt;=</span><span class="token number">3000</span> <span class="token keyword">THEN</span> <span class="token number">1</span> <span class="token keyword">END</span><span class="token punctuation">)</span> <span class="token string">&quot;2001-3000以内的人数&quot;</span><span class="token punctuation">,</span>
       <span class="token function">SUM</span><span class="token punctuation">(</span><span class="token keyword">CASE</span> <span class="token keyword">WHEN</span> SAL<span class="token operator">&gt;</span><span class="token number">3000</span> <span class="token keyword">THEN</span> <span class="token number">1</span> <span class="token keyword">END</span><span class="token punctuation">)</span>               <span class="token string">&quot;3000以上的人数&quot;</span>
<span class="token keyword">FROM</span> EMP<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="decode" tabindex="-1"><a class="header-anchor" href="#decode" aria-hidden="true">#</a> DECODE</h2><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- 语法结构</span>
DECODE <span class="token punctuation">(</span>字段名<span class="token punctuation">,</span>
        值<span class="token number">1</span><span class="token punctuation">,</span> 返回值<span class="token number">1</span><span class="token punctuation">,</span>
        值<span class="token number">2</span><span class="token punctuation">,</span> 返回值<span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
        返回值n<span class="token punctuation">)</span> <span class="token keyword">AS</span> 别名<span class="token punctuation">;</span>  <span class="token comment">-- 最后一个返回值n相当于CASE WHEN中的ELSE，不写默认返回空(NULL)</span>

<span class="token comment">-- 将 EMP表的 英文岗位 替换成中文岗位名称</span>
<span class="token keyword">SELECT</span> ENAME<span class="token punctuation">,</span> JOB<span class="token punctuation">,</span>
       DECODE <span class="token punctuation">(</span>JOB<span class="token punctuation">,</span>
              <span class="token string">&#39;SALESMAN&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;销售&#39;</span><span class="token punctuation">,</span>
              <span class="token string">&#39;MANAGER&#39;</span><span class="token punctuation">,</span>  <span class="token string">&#39;经理&#39;</span><span class="token punctuation">,</span>
              <span class="token string">&#39;CLERK&#39;</span><span class="token punctuation">,</span>    <span class="token string">&#39;职员&#39;</span><span class="token punctuation">,</span>
              <span class="token string">&#39;ANALYST&#39;</span><span class="token punctuation">,</span>  <span class="token string">&#39;分析师&#39;</span><span class="token punctuation">,</span>
              <span class="token string">&#39;老板&#39;</span><span class="token punctuation">)</span> 中文岗位
<span class="token keyword">FROM</span> EMP<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p><strong><code>CASE WHEN</code>和<code>DECODE</code>的区别</strong></p><p><code>DECODE</code>只能用于等值判断；<code>CASE WHEN</code>可以用于等值判断和非等值判断</p></li></ul>`,6),o=[t];function c(l,i){return s(),a("div",null,o)}const r=n(p,[["render",c],["__file","06_场景判断.html.vue"]]);export{r as default};
