import{_ as n}from"./plugin-vue_export-helper-x3n3nnut.js";import{o as s,c as a,f as e}from"./app-VKLC1A-x.js";const p={},t=e(`<h1 id="with-as" tabindex="-1"><a class="header-anchor" href="#with-as" aria-hidden="true">#</a> WITH ... AS ...</h1><h2 id="with-as-1" tabindex="-1"><a class="header-anchor" href="#with-as-1" aria-hidden="true">#</a> WITH ... AS ...</h2><h3 id="语法结构" tabindex="-1"><a class="header-anchor" href="#语法结构" aria-hidden="true">#</a> 语法结构</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">WITH</span> 临时表结果集名称 <span class="token keyword">AS</span> <span class="token punctuation">(</span>
                       查询结果集
                       <span class="token punctuation">)</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> 临时表结果集名称<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="主要写法" tabindex="-1"><a class="header-anchor" href="#主要写法" aria-hidden="true">#</a> 主要写法</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">WITH</span> QUERY1 <span class="token keyword">AS</span> <span class="token punctuation">(</span>
                <span class="token keyword">SELECT</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">FROM</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">WHERE</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
               <span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment">-- 一个查询结果集结束了要有逗号</span>
     QUERY2 <span class="token keyword">AS</span> <span class="token punctuation">(</span>  <span class="token comment">-- 第二个查询结果集不需要 WITH 开头</span>
                <span class="token keyword">SELECT</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">FROM</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">WHERE</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
               <span class="token punctuation">)</span><span class="token punctuation">,</span>
     QUERY3 <span class="token keyword">AS</span> <span class="token punctuation">(</span>
                <span class="token keyword">SELECT</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">FROM</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">WHERE</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
               <span class="token punctuation">)</span>  <span class="token comment">-- 最后一个查询结果集不需要逗号</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> QUERY1 <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="示例" tabindex="-1"><a class="header-anchor" href="#示例" aria-hidden="true">#</a> 示例</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">WITH</span> EMP_TMP <span class="token keyword">AS</span> <span class="token punctuation">(</span>
                 <span class="token keyword">SELECT</span> <span class="token operator">*</span>
                 <span class="token keyword">FROM</span> EMP T
                 <span class="token keyword">WHERE</span> T<span class="token punctuation">.</span>SAL <span class="token operator">&gt;=</span> <span class="token number">1500</span>
                <span class="token punctuation">)</span><span class="token punctuation">,</span>
    DEPT_TMP <span class="token keyword">AS</span> <span class="token punctuation">(</span>
                 <span class="token keyword">SELECT</span> <span class="token operator">*</span>
                 <span class="token keyword">FROM</span> DEPT T1
                 <span class="token keyword">WHERE</span> T1<span class="token punctuation">.</span>DEPTNO <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>
                <span class="token punctuation">)</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span>
<span class="token keyword">FROM</span> EMP_TMP T2
<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> DEPT_TMP T3
       <span class="token keyword">ON</span> T2<span class="token punctuation">.</span>DEPTNO <span class="token operator">=</span> T3<span class="token punctuation">.</span>DEPTNO<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="优缺点" tabindex="-1"><a class="header-anchor" href="#优缺点" aria-hidden="true">#</a> 优缺点</h3><ul><li><strong>优点</strong>：临时表结果集中查询出来的数据是放在内存区域的，当再次使用临时表结果集中的数据的时候，会直接从内存中读取出来，提升程序运行的效率</li><li><strong>缺点</strong>：当临时表结果集中的数据量过大时，可能会造成内存爆满</li></ul>`,10),o=[t];function c(l,i){return s(),a("div",null,o)}const r=n(p,[["render",c],["__file","14_WITH-AS.html.vue"]]);export{r as default};
